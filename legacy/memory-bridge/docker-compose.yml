version: "3.8"

services:
    memory-bridge:
        build: .
        container_name: demestihas-memory-bridge
        networks:
            - demestihas-network
        environment:
            - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
            - LOG_DIR=/app
        volumes:
            - ./extraction.log:/app/extraction.log
        restart: unless-stopped
        command: python3 extract_facts.py --hours 24

networks:
    demestihas-network:
        external: true
        name: root_demestihas-network
